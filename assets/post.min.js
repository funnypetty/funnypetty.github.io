function checkVisible(a){for(var b=.65,c=document.querySelectorAll(".yt-content"),d=0;d<c.length;d++){var l,m,n,e=c[d],f=e.offsetLeft,g=e.offsetTop,h=e.offsetWidth,i=e.offsetHeight,j=f+h,k=g+i;l=Math.max(0,Math.min(h,window.pageXOffset+window.innerWidth-f,j-window.pageXOffset)),m=Math.max(0,Math.min(i,window.pageYOffset+window.innerHeight-g,k-window.pageYOffset)),n=l*m/(h*i),n>b?e.contentWindow.postMessage(JSON.stringify({event:"command",func:"playVideo"}),"*"):e.contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo"}),"*")}}window.addEventListener("scroll",checkVisible,!1),window.addEventListener("resize",checkVisible,!1),window.onYouTubeIframeAPIReady=function(){for(var a=document.querySelectorAll(".yt-content"),b=0;b<a.length;b++)new YT.Player(a[b],{playerVars:{autoplay:0,rel:0},videoId:a[b].dataset.id,events:{onReady:checkVisible,onStateChange:checkVisible}})},function(){"use strict";function d(){var a=location.href.split("#");a=a.filter(function(a){return""!=a});var b=a[a.length-1];return b}function e(a,b){var c;c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),c.onreadystatechange=function(){4==this.readyState&&200==this.status&&b(c.responseText)},c.open("GET",a,!0),c.send()}var a=document,b=a.getElementById("body"),c="/posts/"+d()+".html";e(c,function(a){b.insertAdjacentHTML("beforeend",a),window.onYouTubeIframeAPIReady()})}(window);