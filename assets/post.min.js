!function(){"use strict";function j(a){for(var b in a)if(""==a[b]||"http://"==a[b])return!0;return!1}function k(a){d.innerHTML=a,c.innerHTML="",window.setTimeout(function(){d.innerHTML=""},5e3)}function l(a){a=a.split("+").join(" ");for(var c,b={},d=/[?&]?([^=]+)=([^&]*)/g;c=d.exec(a);)b[decodeURIComponent(c[1])]=decodeURIComponent(c[2]);return b}var a=document,b=a.getElementById("get-code"),c=a.getElementById("result-box"),d=a.getElementById("status"),e=a.getElementById("caption"),f=a.getElementById("link"),g=a.getElementById("author"),h=a.getElementById("type-video"),i=a.getElementById("type-picture");b.onclick=function(){var b=h.checked,m=(i.checked,{caption:e.value,link:f.value,author:g.value,type:b?"video":"picture"});if(j(m))return void k("Vui lòng điền đủ các trường !!");var n=a.getElementById(m.type+"-html").innerHTML.trim(),o=m.link.split("?")[1];if(m.link.indexOf("youtube.com")===-1&&"video"==m.type)return void k("Link của video không phải là youtube");if(!o&&"video"==m.type)return void k("Link của video không hợp lệ");var p=l(o).v;if(!p&&"video"==m.type)return void k("Link của video không hợp lệ");var q="picture"==m.type?m.link:p;n=n.replace(/{@caption}/g,m.caption),n=n.replace(/{@link}/g,q),n=n.replace("{@author}",m.author),c.innerHTML=n},c.onclick=function(){this.setSelectionRange(0,this.value.length)}}();